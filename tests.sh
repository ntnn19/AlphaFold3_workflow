#!/bin/bash
python workflow/scripts/prepare_workflow.py .test/config/custom/config.yaml -o .test/config/custom && snakemake --configfile .test/config/custom/config.yaml --directory .test/config/custom --use-singularity --singularity-args '--nv -B /gpfs/cssb/group/cssb-topf/natan/af3db:/root/public_databases -B tmp:/tmp -B /gpfs/cssb/group/cssb-topf/natan/singularity_containers/alphafold3/weights:/root/models -B results:/root/af_output' -p --workflow-profile profiles/profile -j 10 -n
python workflow/scripts/prepare_workflow.py .test/config/pulldown/config.yaml -o .test/config/pulldown && snakemake --configfile .test/config/pulldown/config.yaml --directory .test/config/pulldown --use-singularity --singularity-args '--nv -B /gpfs/cssb/group/cssb-topf/natan/af3db:/root/public_databases -B tmp:/tmp -B /gpfs/cssb/group/cssb-topf/natan/singularity_containers/alphafold3/weights:/root/models -B results:/root/af_output' -p --workflow-profile profiles/profile -j 10 -n
python workflow/scripts/prepare_workflow.py .test/config/entry_points/data_pipeline_ready/config.yaml -o .test/config/entry_points/data_pipeline_ready && snakemake --configfile .test/config/entry_points/data_pipeline_ready/config.yaml --directory .test/config/entry_points/data_pipeline_ready --use-singularity --singularity-args '--nv -B /gpfs/cssb/group/cssb-topf/natan/af3db:/root/public_databases -B tmp:/tmp -B /gpfs/cssb/group/cssb-topf/natan/singularity_containers/alphafold3/weights:/root/models -B results:/root/af_output' -p --workflow-profile profiles/profile -j 10 -n
python workflow/scripts/prepare_workflow.py .test/config/entry_points/data_pipeline_ready_plus_raw_data/config.yaml -o .test/config/entry_points/data_pipeline_ready_plus_raw_data && snakemake --configfile .test/config/entry_points/data_pipeline_ready_plus_raw_data/config.yaml --directory .test/config/entry_points/data_pipeline_ready_plus_raw_data --use-singularity --singularity-args '--nv -B /gpfs/cssb/group/cssb-topf/natan/af3db:/root/public_databases -B tmp:/tmp -B /gpfs/cssb/group/cssb-topf/natan/singularity_containers/alphafold3/weights:/root/models -B results:/root/af_output' -p --workflow-profile profiles/profile -j 10 -n
python workflow/scripts/prepare_workflow.py .test/config/entry_points/inference_ready/config.yaml -o .test/config/entry_points/inference_ready && snakemake --configfile .test/config/entry_points/inference_ready/config.yaml --directory .test/config/entry_points/inference_ready --use-singularity --singularity-args '--nv -B /gpfs/cssb/group/cssb-topf/natan/af3db:/root/public_databases -B tmp:/tmp -B /gpfs/cssb/group/cssb-topf/natan/singularity_containers/alphafold3/weights:/root/models -B results:/root/af_output' -p --workflow-profile profiles/profile -j 10 -n
